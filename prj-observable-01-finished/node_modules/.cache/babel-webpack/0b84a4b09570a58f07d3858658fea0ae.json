{"ast":null,"code":"import _assertThisInitialized from \"/Users/momodoujammeh/Developement/angular/Assignments/prj-observable-01-finished/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/momodoujammeh/Developement/angular/Assignments/prj-observable-01-finished/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/momodoujammeh/Developement/angular/Assignments/prj-observable-01-finished/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _classCallCheck from \"/Users/momodoujammeh/Developement/angular/Assignments/prj-observable-01-finished/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/momodoujammeh/Developement/angular/Assignments/prj-observable-01-finished/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Subscriber } from '../Subscriber';\nexport function sequenceEqual(compareTo, comparator) {\n  return function (source) {\n    return source.lift(new SequenceEqualOperator(compareTo, comparator));\n  };\n}\nexport var SequenceEqualOperator = /*#__PURE__*/function () {\n  function SequenceEqualOperator(compareTo, comparator) {\n    _classCallCheck(this, SequenceEqualOperator);\n\n    this.compareTo = compareTo;\n    this.comparator = comparator;\n  }\n\n  _createClass(SequenceEqualOperator, [{\n    key: \"call\",\n    value: function call(subscriber, source) {\n      return source.subscribe(new SequenceEqualSubscriber(subscriber, this.compareTo, this.comparator));\n    }\n  }]);\n\n  return SequenceEqualOperator;\n}();\nexport var SequenceEqualSubscriber = /*#__PURE__*/function (_Subscriber) {\n  _inherits(SequenceEqualSubscriber, _Subscriber);\n\n  var _super = _createSuper(SequenceEqualSubscriber);\n\n  function SequenceEqualSubscriber(destination, compareTo, comparator) {\n    var _this;\n\n    _classCallCheck(this, SequenceEqualSubscriber);\n\n    _this = _super.call(this, destination);\n    _this.compareTo = compareTo;\n    _this.comparator = comparator;\n    _this._a = [];\n    _this._b = [];\n    _this._oneComplete = false;\n\n    _this.destination.add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination, _assertThisInitialized(_this))));\n\n    return _this;\n  }\n\n  _createClass(SequenceEqualSubscriber, [{\n    key: \"_next\",\n    value: function _next(value) {\n      if (this._oneComplete && this._b.length === 0) {\n        this.emit(false);\n      } else {\n        this._a.push(value);\n\n        this.checkValues();\n      }\n    }\n  }, {\n    key: \"_complete\",\n    value: function _complete() {\n      if (this._oneComplete) {\n        this.emit(this._a.length === 0 && this._b.length === 0);\n      } else {\n        this._oneComplete = true;\n      }\n\n      this.unsubscribe();\n    }\n  }, {\n    key: \"checkValues\",\n    value: function checkValues() {\n      var _a = this._a,\n          _b = this._b,\n          comparator = this.comparator;\n\n      while (_a.length > 0 && _b.length > 0) {\n        var a = _a.shift();\n\n        var b = _b.shift();\n\n        var areEqual = false;\n\n        try {\n          areEqual = comparator ? comparator(a, b) : a === b;\n        } catch (e) {\n          this.destination.error(e);\n        }\n\n        if (!areEqual) {\n          this.emit(false);\n        }\n      }\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(value) {\n      var destination = this.destination;\n      destination.next(value);\n      destination.complete();\n    }\n  }, {\n    key: \"nextB\",\n    value: function nextB(value) {\n      if (this._oneComplete && this._a.length === 0) {\n        this.emit(false);\n      } else {\n        this._b.push(value);\n\n        this.checkValues();\n      }\n    }\n  }, {\n    key: \"completeB\",\n    value: function completeB() {\n      if (this._oneComplete) {\n        this.emit(this._a.length === 0 && this._b.length === 0);\n      } else {\n        this._oneComplete = true;\n      }\n    }\n  }]);\n\n  return SequenceEqualSubscriber;\n}(Subscriber);\n\nvar SequenceEqualCompareToSubscriber = /*#__PURE__*/function (_Subscriber2) {\n  _inherits(SequenceEqualCompareToSubscriber, _Subscriber2);\n\n  var _super2 = _createSuper(SequenceEqualCompareToSubscriber);\n\n  function SequenceEqualCompareToSubscriber(destination, parent) {\n    var _this2;\n\n    _classCallCheck(this, SequenceEqualCompareToSubscriber);\n\n    _this2 = _super2.call(this, destination);\n    _this2.parent = parent;\n    return _this2;\n  }\n\n  _createClass(SequenceEqualCompareToSubscriber, [{\n    key: \"_next\",\n    value: function _next(value) {\n      this.parent.nextB(value);\n    }\n  }, {\n    key: \"_error\",\n    value: function _error(err) {\n      this.parent.error(err);\n      this.unsubscribe();\n    }\n  }, {\n    key: \"_complete\",\n    value: function _complete() {\n      this.parent.completeB();\n      this.unsubscribe();\n    }\n  }]);\n\n  return SequenceEqualCompareToSubscriber;\n}(Subscriber);","map":{"version":3,"sources":["../../../src/internal/operators/sequenceEqual.ts"],"names":[],"mappings":"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","sourcesContent":["import { Subscriber } from '../Subscriber';\nexport function sequenceEqual(compareTo, comparator) {\n    return (source) => source.lift(new SequenceEqualOperator(compareTo, comparator));\n}\nexport class SequenceEqualOperator {\n    constructor(compareTo, comparator) {\n        this.compareTo = compareTo;\n        this.comparator = comparator;\n    }\n    call(subscriber, source) {\n        return source.subscribe(new SequenceEqualSubscriber(subscriber, this.compareTo, this.comparator));\n    }\n}\nexport class SequenceEqualSubscriber extends Subscriber {\n    constructor(destination, compareTo, comparator) {\n        super(destination);\n        this.compareTo = compareTo;\n        this.comparator = comparator;\n        this._a = [];\n        this._b = [];\n        this._oneComplete = false;\n        this.destination.add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination, this)));\n    }\n    _next(value) {\n        if (this._oneComplete && this._b.length === 0) {\n            this.emit(false);\n        }\n        else {\n            this._a.push(value);\n            this.checkValues();\n        }\n    }\n    _complete() {\n        if (this._oneComplete) {\n            this.emit(this._a.length === 0 && this._b.length === 0);\n        }\n        else {\n            this._oneComplete = true;\n        }\n        this.unsubscribe();\n    }\n    checkValues() {\n        const { _a, _b, comparator } = this;\n        while (_a.length > 0 && _b.length > 0) {\n            let a = _a.shift();\n            let b = _b.shift();\n            let areEqual = false;\n            try {\n                areEqual = comparator ? comparator(a, b) : a === b;\n            }\n            catch (e) {\n                this.destination.error(e);\n            }\n            if (!areEqual) {\n                this.emit(false);\n            }\n        }\n    }\n    emit(value) {\n        const { destination } = this;\n        destination.next(value);\n        destination.complete();\n    }\n    nextB(value) {\n        if (this._oneComplete && this._a.length === 0) {\n            this.emit(false);\n        }\n        else {\n            this._b.push(value);\n            this.checkValues();\n        }\n    }\n    completeB() {\n        if (this._oneComplete) {\n            this.emit(this._a.length === 0 && this._b.length === 0);\n        }\n        else {\n            this._oneComplete = true;\n        }\n    }\n}\nclass SequenceEqualCompareToSubscriber extends Subscriber {\n    constructor(destination, parent) {\n        super(destination);\n        this.parent = parent;\n    }\n    _next(value) {\n        this.parent.nextB(value);\n    }\n    _error(err) {\n        this.parent.error(err);\n        this.unsubscribe();\n    }\n    _complete() {\n        this.parent.completeB();\n        this.unsubscribe();\n    }\n}\n//# sourceMappingURL=sequenceEqual.js.map"]},"metadata":{},"sourceType":"module"}